<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="cipok.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body>
        <div class="marginer">
            <a href="main.html"><div class="menu">
                <p class="back">Vissza</p>
            </div></a>
        </div>
        <div class="row">
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo1.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option1" value="piros" onchange="sumcall('option1','option2','sumtext1')">piros</label><br>
                            <label><input type="radio" name="option1" value="fekete" onchange="sumcall('option1','option2','sumtext1')">fekete</label><br>
                            <label><input type="radio" name="option1" value="kek" onchange="sumcall('option1','option2','sumtext1')">kek</label><br>
                        </div>
                        <div class="col">
                            <p>meret</p>
                            <label><input type="radio" name="option2" value="36" onchange="sumcall('option1','option2','sumtext1')">36</label><br>
                            <label><input type="radio" name="option2" value="38" onchange="sumcall('option1','option2','sumtext1')">38</label><br>
                            <label><input type="radio" name="option2" value="42" onchange="sumcall('option1','option2','sumtext1')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option1', 'option2', 'kep1')">Vásárlás</button>
                <p id="sumtext1">Ár:</p>
            </div>
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo2.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option3" value="piros" onchange="sumcall('option3','option4','sumtext2')">piros</label><br>
                            <label><input type="radio" name="option3" value="fekete" onchange="sumcall('option3','option4','sumtext2')">fekete</label><br>
                            <label><input type="radio" name="option3" value="kek" onchange="sumcall('option3','option4','sumtext2')">kek</label><br>
                        </div>
                        <div class="col">
                            <p>meret</p>
                            <label><input type="radio" name="option4" value="38" onchange="sumcall('option3','option4','sumtext2')">38</label><br>
                            <label><input type="radio" name="option4" value="40" onchange="sumcall('option3','option4','sumtext2')">40</label><br>
                            <label><input type="radio" name="option4" value="42" onchange="sumcall('option3','option4','sumtext2')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option3', 'option4', 'kep2')">Vásárlás</button>
                <p id="sumtext2">Ár:</p>
            </div>
        </div>
<br>
        <div class="row">
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo3.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option5" value="piros" onchange="sumcall('option5','option6','sumtext3')"> piros</label><br>
                            <label><input type="radio" name="option5" value="fekete" onchange="sumcall('option5','option6','sumtext3')"> fekete</label><br>
                            <label><input type="radio" name="option5" value="kek" onchange="sumcall('option5','option6','sumtext3')"> kek</label><br>
                        </div>
                        <div class="col">
                            <p>meret</p>
                            <label><input type="radio" name="option6" value="36" onchange="sumcall('option5','option6','sumtext3')">36</label><br>
                            <label><input type="radio" name="option6" value="40" onchange="sumcall('option5','option6','sumtext3')">40</label><br>
                            <label><input type="radio" name="option6" value="42" onchange="sumcall('option5','option6','sumtext3')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option5', 'option6', 'kep3')">Vásárlás</button>
                <p id="sumtext3">Ár:</p>
            </div>
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo4.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option7" value="piros" onchange="sumcall('option7','option8','sumtext4')"> piros</label><br>
                            <label><input type="radio" name="option7" value="fekete" onchange="sumcall('option7','option8','sumtext4')"> fekete</label><br>
                            <label><input type="radio" name="option7" value="kek" onchange="sumcall('option7','option8','sumtext4')"> kek</label><br>
                        </div>
                        <div class="col">
                            <p>meret</p>
                            <label><input type="radio" name="option8" value="36" onchange="sumcall('option7','option8','sumtext4')">36</label><br>
                            <label><input type="radio" name="option8" value="40" onchange="sumcall('option7','option8','sumtext4')">40</label><br>
                            <label><input type="radio" name="option8" value="42" onchange="sumcall('option7','option8','sumtext4')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option7', 'option8', 'kep4')">Vásárlás</button>
                <p id="sumtext4">Ár:</p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo5.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option9" value="piros" onchange="sumcall('option9', 'option10', 'sumtext5')"> piros</label><br>
                            <label><input type="radio" name="option9" value="fekete" onchange="sumcall('option9', 'option10', 'sumtext5')"> fekete</label><br>
                            <label><input type="radio" name="option9" value="kek" onchange="sumcall('option9', 'option10', 'sumtext5')"> kek</label><br>
                        </div>
                        <div class="col">
                            <p>Méret</p>
                            <label><input type="radio" name="option10" value="36" onchange="sumcall('option9', 'option10', 'sumtext5')">36</label><br>
                            <label><input type="radio" name="option10" value="40" onchange="sumcall('option9', 'option10', 'sumtext5')">40</label><br>
                            <label><input type="radio" name="option10" value="42" onchange="sumcall('option9', 'option10', 'sumtext5')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option9', 'option10', 'kep5')">Vásárlás</button>
                <p id="sumtext5">Ár:</p>
            </div>
            <div class="col-lg-6 text-center">
                <img src="kepek noi labakrol cipoben tobb szemszogbol is/cipo2/cipo6.jpg">
                <div class="options">
                    <div class="row">
                        <div class="col">
                            <p>Szín</p>
                            <label><input type="radio" name="option11" value="piros" onchange="sumcall('option11', 'option12', 'sumtext6')"> piros</label><br>
                            <label><input type="radio" name="option11" value="fekete" onchange="sumcall('option11', 'option12', 'sumtex6')"> fekete</label><br>
                            <label><input type="radio" name="option11" value="kek" onchange="sumcall('option11', 'option12', 'sumtext6')"> kek</label><br>
                        </div>
                        <div class="col">
                            <p>Méret</p>
                            <label><input type="radio" name="option12" value="36" onchange="sumcall('option11', 'option12', 'sumtext6')">36</label><br>
                            <label><input type="radio" name="option12" value="40" onchange="sumcall('option11', 'option12', 'sumtext6')">40</label><br>
                            <label><input type="radio" name="option12" value="42" onchange="sumcall('option11', 'option12', 'sumtext6')">42</label><br>
                        </div>
                    </div>
                </div>
                <button onclick="showSelectedOptions('option11', 'option12', 'kep6'),updateValue('sumtext6')">Vásárlás</button>
                <p id="sumtext6">Ár:</p>
            </div>
        </div>

        <div id="myModal" class="modal">
            <div class="modal-content">
              <span class="close">&times;</span>
              <p id="modal-text">This is a modal popup.</p>
              
              <div class="dropdown"> 
                <button class="dropbtn">Válasszon az alábbi lehetőségek közül:</button>
                <div class="dropdown-content" id="myDropdown">  
                  <a href="#" onclick="updateValue(0)">Nincs kuponom</a>
                  <a href="#" onclick="updateValue(5)">5% kedvezmény</a>
                  <a href="#" onclick="updateValue(10)">10% kedvezmény</a>
                  <a href="#" onclick="updateValue(15)">15% kedvezmény</a>
                </div>
              </div>
              <p id="valueField">Kedvezményes ár:</p>
              <!--<input type="text" id="valueField" readonly>-->

            </div>
          </div>
        
        <script>
            var arsum = 0;

            function updateValue(value) {
                var offsum = arsum - ((value/100)*arsum);
                document.getElementById("valueField").innerText = "Kedvezményes ár: " + offsum;
                
            }

            function sumcall(optionName1, optionName2, sumtextId) { //renames the incoming values for later use || makes it easier to handle multiple calls with one function
                var selectedOptions1 = document.querySelector('input[name="' + optionName1 + '"]:checked');
                var selectedOptions2 = document.querySelector('input[name="' + optionName2 + '"]:checked');
                var sumTextElement = document.getElementById(sumtextId);
                arsum = 0;
        
                //árak-szín
                if(selectedOptions1.value === "piros") {
                    arsum += 5000;
                } else if(selectedOptions1.value === "fekete") {
                    arsum += 6000;
                } else if(selectedOptions1.value === "kek") {
                    arsum += 6500;
                }
                //árak-méret
                if(selectedOptions2.value === "38") {
                    arsum = arsum * 1.1;
                } else if(selectedOptions2.value === "40") {
                    arsum = arsum * 1.2;
                } else if(selectedOptions2.value === "42") {
                    arsum = arsum * 1.4;
                }
                
                arsum = roundNumber(arsum, 0);
                sumTextElement.innerText = "Ár: " + arsum + " Ft";
                
            }
        
            function roundNumber(num, dec) {
                return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec);
            }



            function showSelectedOptions(optionName1, optionName2, kepName) {
                var selectedOptions1 = document.querySelector('input[name="' + optionName1 + '"]:checked');
                var selectedOptions2 = document.querySelector('input[name="' + optionName2 + '"]:checked');
                var message = "Kiválasztott opciók a " + kepName  + " elemhez: \n ";
                var arsum = 0;
                
                if (!selectedOptions1 || !selectedOptions2) {
                    alert("Kérem válasszon a vásárlási lehetőségek közül vásárlás előtt.");
                    return;
                }
                //alert text
                if (selectedOptions1) {
                    message += "Szín: " + selectedOptions1.value + "\n";
                }
                if (selectedOptions2) {
                    message += "Méret: " + selectedOptions2.value + "\n";
                }
                //arak-szin
                if(selectedOptions1.value === "piros") {
                arsum += 5000;
                }else if(selectedOptions1.value === "fekete") {
                    arsum +=6000;
                }else if(selectedOptions1.value === "kek") {
                    arsum +=6500;
                }
                //arak-meret
                if(selectedOptions2.value === "38") {
                    arsum = arsum * 1.1;
                }else if(selectedOptions2.value === "40") {
                    arsum = arsum * 1.2;
                }else if(selectedOptions2.value === "42") {
                    arsum = arsum * 1.4;
                }
                //message
                arsum = roundNumber(arsum, 0);
                message += "Összeg: " + arsum + "\n";
                //alert(message);
                
                // Show the modal with the calculated text
                var modal = document.getElementById("myModal");
                var modalText = document.getElementById("modal-text");
                modalText.innerHTML = "Ár: " + arsum + " Ft";
                modal.style.display = "block";

                // When the user clicks on <span> (x), close the modal
                var span = document.getElementsByClassName("close")[0];
                span.onclick = function() {
                    modal.style.display = "none";
                }

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }
            
            }
            //floating-point arithmetic counter function
            function roundNumber(number, decimalPlaces) {
                var factor = Math.pow(10, decimalPlaces);
                return Math.round(number * factor) / factor;
            }

            //dropdown
            document.addEventListener("DOMContentLoaded", function() {
            var inputField = document.getElementById("dropdownInput");
            var optionsList = document.getElementById("dropdownOptions");

            inputField.addEventListener("click", function() {
                if (optionsList.style.display === "none" || optionsList.style.display === "") {
                optionsList.style.display = "block";
                } else {
                optionsList.style.display = "none";
                }
            });

            // Close the dropdown when clicking outside of it
            window.addEventListener("click", function(event) {
                if (!inputField.contains(event.target) && !optionsList.contains(event.target)) {
                optionsList.style.display = "none";
                }
            });

            // Handle option selection
            optionsList.addEventListener("click", function(event) {
                if (event.target.tagName === "A") {
                inputField.value = event.target.textContent;
                optionsList.style.display = "none";
                }
            });
            });
        </script>
    </body>
</html>
